name: Build iOS XCFramework

on:
  workflow_dispatch: # Manual trigger
  push:
    branches: [master]

jobs:
  build-ios:
    runs-on: macos-latest

    steps:
      - name: ‚öôÔ∏è Build iOS Simulator Frameworks Only
        run: |
          ./gradlew :composeApp:linkDebugFrameworkIosX64 --stacktrace --info
          ./gradlew :composeApp:linkDebugFrameworkIosSimulatorArm64 --stacktrace --info

      - name: üß± Assemble XCFramework Simulator Only
        run: ./gradlew :composeApp:assembleXCFramework --no-configuration-cache --stacktrace --info
